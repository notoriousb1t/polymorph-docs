(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{169:function(e,t,r){},179:function(e,t,r){"use strict";var n=r(169);r.n(n).a},186:function(e,t,r){"use strict";r.r(t);r(164);var n=r(165),i=(r(176),r(178),r(22),r(49),r(170)),s=r(166),a=r(184),o=r(167),u=r(182),c=r(168),l=r(183),h=(r(11),r(16),r(23),function(){function e(t){var r=this;Object(s.a)(this,e),this._requestId=0,this._pending={},this._url=t,this._worker=new Worker(this._url),this._worker.onmessage=function(e){return r._onMessage(e)}}return Object(o.a)(e,[{key:"release",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this._worker&&(this._worker.terminate(),this._worker=null),t=Object.keys(this._pending),r=0;r<t.length;r++)t[r],this._fulfillPending(id,null,new Error("Worker terminated: "+this._url));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_postMessage",value:function(e){this._worker.postMessage(e)}},{key:"_onMessage",value:function(e){e.data.id?this._fulfillPending(e.data.id,e.data.result,e.data.error):console.log("Unexpected message",e)}},{key:"_fulfillPending",value:function(e,t,r){var n=this._pending[e];n?(delete this._pending[e],r?n[1](new Error(r)):n[0](t)):console.log("No resolver for",{id:e,result:t,error:r})}},{key:"_requestResponse",value:function(e){var t=this;return new Promise(function(r,n){e.id=++t._requestId,t._pending[e.id]=[r,n],t._postMessage(e)})}}]),e}()),p=function(){function e(t,r,n){Object(s.a)(this,e),this.text=t,this._compressedSize=null,this._url="",this._blob=null,this.width=r,this.height=n}return Object(o.a)(e,[{key:"_create",value:function(){this._blob=new Blob([this.text],{type:"image/svg+xml"}),this._url=URL.createObjectURL(this._blob)}},{key:"release",value:function(){this._url&&(this._blob=null,URL.revokeObjectURL(this._url))}},{key:"blob",get:function(){return this._blob||this._create(),this._blob}},{key:"url",get:function(){return this._url||this._create(),this._url}}]),e}(),d=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this,"./svgo-worker.js")))._abortOnNextIteration=!1,e._currentJob=Promise.resolve(),e}return Object(o.a)(t,[{key:"load",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._requestResponse({action:"load",data:t});case 2:return r=e.sent,n=r.width,i=r.height,e.abrupt("return",new p(t,n,i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"process",value:function(e,t){var r=this;return this._currentJob=this.abortCurrent().then(Object(n.a)(regeneratorRuntime.mark(function n(){var i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r._abortOnNextIteration=!1,n.next=3,r._requestResponse({action:"process",settings:e});case 3:if(i=n.sent,s=new p(i.data,i.dimensions.width,i.dimensions.height),t(s),!e.multipass){n.next=16;break}case 7:return n.next=9,r.nextPass();case 9:if(!(i=n.sent)){n.next=16;break}if(!r._abortOnNextIteration){n.next=12;break}throw Error("abort");case 12:s=new p(i.data,i.dimensions.width,i.dimensions.height),t(s),n.next=7;break;case 16:return n.abrupt("return",s);case 17:case"end":return n.stop()}},n,this)})))}},{key:"nextPass",value:function(){return this._requestResponse({action:"nextPass"})}},{key:"abortCurrent",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._abortOnNextIteration=!0,e.next=3,this._currentJob;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"release",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.abortCurrent();case 2:Object(l.a)(Object(c.a)(t.prototype),"release",this).call(this);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),Object(a.a)(t,e),t}(h),f={data:function(){return{svgo:new d,settings:{floatPrecision:2,plugins:{cleanupAttrs:!0,removeXMLProcInst:!0,removeComments:!0,removeMetadata:!0,removeTitle:!0,removeDesc:!0,removeUselessDefs:!0,removeEditorsNSData:!0,removeEmptyAttrs:!0,removeHiddenElems:!0,removeEmptyText:!0,removeEmptyContainers:!0,removeViewBox:!1,cleanupEnableBackground:!0,convertStyleToAttrs:!0,convertColors:!0,convertPathData:!0,convertTransform:!0,removeUnknownsAndDefaults:!0,removeNonInheritableGroupAttrs:!0,removeUselessStrokeAndFill:!1,removeUnusedNS:!0,cleanupIDs:!1,cleanupNumericValues:!0,moveElemsAttrsToGroup:!0,moveGroupAttrsToElems:!0,collapseGroups:!0,removeRasterImages:!1,mergePaths:!0,convertShapeToPath:!0,sortAttrs:!0,removeDimensions:!0}},duration:1e3,progress:500,items:[{label:"A",itemState:"initial",loadState:"initial",errorMessage:"",isOptimized:!0,paths:null},{label:"B",itemState:"initial",loadState:"initial",errorMessage:"",isOptimized:!0,paths:null}]}},computed:{pathData:function(){return this.items.map(function(e){return e.paths}).filter(Boolean)}},methods:{openFile:function(e,t){var r=this;this.beginProcessing(e),this.readFileContents(t).then(function(t){return r.processSvg(e,t)}).catch(function(t){return r.handleError(e,t)})},changeSettings:function(e,t){void 0!==t.isOptimized&&(e.isOptimized=t.isOptimized,e.originalFile&&this.processSvg(e,e.originalFile.text))},beginProcessing:function(e){e.errorMessage="",e.loadState="loading",e.paths=null},endProcessing:function(e){e.itemState=e.originalFile?"edit":"initial"},handleError:function(e,t){e.errorMessage=t.toString(),e.loadState="error",console.error(t)},readFileContents:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var n=new FileReader;n.onload=function(t){return e(t.target.result)},n.onerror=r,n.readAsText(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),processSvg:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t,r){var n,i,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._latestCompressJobId=Math.random(),e.next=3,this.svgo.abortCurrent();case 3:if(n==this._latestCompressJobId){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.svgo.load(r);case 7:if(i=e.sent,t.originalFile=i,!t.isOptimized){e.next=13;break}return e.next=12,this.svgo.process(this.settings,function(){});case 12:i=e.sent;case 13:t.optimizedFile=i,console.log("finished processing file: ".concat(t.originalFile.text.length," -> ").concat(t.optimizedFile.text.length)),this.$nextTick(function(){return s.parseSVG(t)});case 16:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),parseSVG:function(e){try{var t=document.createElement("div");t.innerHTML=e.optimizedFile.text;var r=t.querySelector(":not(clipPath) > path");e.paths=Object(i.a)(r.getAttribute("d")),this.endProcessing(e)}catch(t){this.handleError(e,t)}}},created:function(){var e=this;"undefined"!=typeof window&&"serviceWorker"in navigator&&(navigator.serviceWorker.controller||navigator.serviceWorker.register("./svgo-worker.js",{scope:"./"}).then(function(t){t.addEventListener("updatefound",function(){return e._onUpdateFound(t)})}))}},g=(r(179),r(0)),m=Object(g.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"workbench-app"},[e._l(e.items,function(t){return r("svg-editor",{key:t.label,attrs:{label:t.label,itemState:t.itemState,loadState:t.loadState,errorMessage:t.errorMessage,isOptimized:t.isOptimized,paths:t.paths},on:{open:function(r){e.openFile(t,r)},changeSettings:function(r){e.changeSettings(t,r)}}})}),r("div",{staticClass:"flex-centered"},[r("svg-previewer",{attrs:{pathData:e.pathData,progress:e.progress,duration:e.duration}}),r("div",{staticClass:"preview-scrubber"},[r("label",[e._v("Tween")]),r("input",{attrs:{type:"range",min:"0",max:e.duration,step:"0"},domProps:{value:e.progress},on:{input:function(t){e.progress=+t.currentTarget.value}}})])],1)],2)},[],!1,null,null,null);t.default=m.exports}}]);